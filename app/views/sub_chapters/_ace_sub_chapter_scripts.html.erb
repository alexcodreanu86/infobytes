<script>
  for (var i=1;i<= <%=@count%>;i++){ 
    ace.require("ace/config").set("modePath", 'assets/ace/mode/')
    var editor = ace.edit("editor-" + i);
    var language = document.getElementById("editor_language-" + i).value
    editor.setTheme("ace/theme/textmate");
    editor.session.setMode("ace/mode/" + language.toLowerCase());
    editor.getSession().setUseWrapMode(true);
    editor.setReadOnly(true)
    editor.setOptions({
      maxLines: 25,
      minLines: 4.75,
    });
  }
</script>