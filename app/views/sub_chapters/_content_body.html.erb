<% @contents.each do |content| %>
  <% if content.attachable_type == "Paragraph" %>
    <p><%= raw(add_hyper_links(content.attachable.body)) %></p>
    
    <% if sub_chapter_owner?(@sub_chapter) %>
     
    <% end %>

  <% elsif content.attachable_type == "CodeSnippet" %>
    <div id="editor-<%= content.id %>" style="height: 200px; width: 100%; background-color:#eee"><%= content.attachable.body %></div>
    <input type="hidden" id ="editor_language-<%= content.id %>" value="<%= content.attachable.language %>">
    
    <script>
      var editor = ace.edit("editor-<%= content.id %>");
      var language = document.getElementById("editor_language-<%= content.id %>").value
      editor.setTheme("ace/theme/textmate");
      editor.session.setMode("ace/mode/" + language.toLowerCase());
      editor.getSession().setUseWrapMode(true);
      editor.setReadOnly(true)
    </script>

    <% if sub_chapter_owner?(@sub_chapter) %>
      
    <% end %>

  <% elsif content.attachable_type == "Image" %>
    <div class="image-container"><%= image_tag content.attachable.image_path.url(:original) %></div>
  
  <% end %>

<% end %>